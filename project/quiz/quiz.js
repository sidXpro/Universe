// Array of quiz questions and answers
// const quizData = [
//     {
//         question: "What is the capital of France?",
//         options: ["Berlin", "Madrid", "Paris", "Lisbon"],
//         correct: 2
//     },
//     {
//         question: "Which language is used to style web pages?",
//         options: ["HTML", "JQuery", "CSS", "XML"],
//         correct: 2
//     },
//     {
//         question: "Which is the largest ocean on Earth?",
//         options: ["Indian", "Pacific", "Atlantic", "Arctic"],
//         correct: 1
//     },
//     {
//         question: "Who developed the theory of relativity?",
//         options: ["Isaac Newton", "Albert Einstein", "Galileo Galilei", "Nikola Tesla"],
//         correct: 1
//     },
//     {
//         question: "Which planet is known as the Red Planet?",
//         options: ["Venus", "Mars", "Jupiter", "Saturn"],
//         correct: 1
//     }
// ];

const quizData1 =  [
    {
      "question": "Which planet is known as the 'Red Planet'?",
      "options": ["1 Venus", "2 Mars", "3 Jupiter", "4 Mercury"],
      "correct": 2
    },
    {
      "question": "Which is the largest planet in our Solar System?",
      "options": ["1 Earth", "2 Saturn", "3 Jupiter", "4 Neptune"],
      "correct": 3
    },
    {
      "question": "Which planet has the most extensive ring system?",
      "options": ["1 Uranus", "2 Saturn", "3 Neptune", "4 Jupiter"],
      "correct": 2
    },
    {
      "question": "What is the smallest planet in our Solar System?",
      "options": ["1 Mars", "2 Venus", "3 Mercury", "4 Earth"],
      "correct": 3
    },
    {
      "question": "Which planet is closest to the Sun?",
      "options": ["1 Earth", "2 Venus", "3 Mercury", "4 Mars"],
      "correct": 3
    },
    {
      "question": "Which moon is the largest in our Solar System?",
      "options": ["1 Europa", "2 Titan", "3 Ganymede", "4 Callisto"],
      "correct": 3
    },
    {
      "question": "Which planet is known for having a Great Red Spot?",
      "options": ["1 Saturn", "2 Neptune", "3 Jupiter", "4 Mars"],
      "correct": 3
    },
    {
      "question": "Which planet has a day that is longer than its year?",
      "options": ["1 Venus", "2 Mercury", "3 Neptune", "4 Pluto"],
      "correct": 1
    },
    {
      "question": "What is the name of the fifth planet from the Sun?",
      "options": ["1 Earth", "2 Jupiter", "3 Saturn", "4 Mars"],
      "correct": 2
    },
    {
      "question": "Which planet is known as the 'Morning Star' or 'Evening Star'?",
      "options": ["1 Venus", "2 Mars", "3 Mercury", "4 Jupiter"],
      "correct": 1
    },
    {
      "question": "Which planet has the shortest day, completing one rotation in about 10 hours?",
      "options": ["1 Earth", "2 Jupiter", "3 Saturn", "4 Mars"],
      "correct": 2
    },
    {
      "question": "Which planet is known for its striking blue color, due to the presence of methane in its atmosphere?",
      "options": ["1 Neptune", "2 Uranus", "3 Earth", "4 Venus"],
      "correct": 1
    },
    {
      "question": "Which planet has the most volcanoes?",
      "options": ["1 Earth", "2 Venus", "3 Mars", "4 Mercury"],
      "correct": 2
    },
    {
      "question": "Which planet in our Solar System has a surface temperature hot enough to melt lead?",
      "options": ["1 Mercury", "2 Venus", "3 Mars", "4 Earth"],
      "correct": 2
    },
    {
      "question": "What is the second largest planet in the Solar System?",
      "options": ["1 Neptune", "2 Uranus", "3 Jupiter", "4 Saturn"],
      "correct": 4
    },
    {
      "question": "Which planet's atmosphere is composed mostly of carbon dioxide, leading to a strong greenhouse effect?",
      "options": ["1 Mars", "2 Venus", "3 Earth", "4 Jupiter"],
      "correct": 2
    },
    {
      "question": "What is the largest object in the asteroid belt between Mars and Jupiter?",
      "options": ["1 Vesta", "2 Ceres", "3 Pallas", "4 Hygiea"],
      "correct": 2
    },
    {
      "question": "Which planet has a tilted axis of 98 degrees, causing extreme seasonal variations?",
      "options": ["1 Uranus", "2 Neptune", "3 Saturn", "4 Mars"],
      "correct": 1
    },
    {
      "question": "Which planet is famous for its massive storms, including the Great Dark Spot?",
      "options": ["1 Jupiter", "2 Uranus", "3 Neptune", "4 Saturn"],
      "correct": 3
    },
    {
      "question": "Which planet was demoted to a dwarf planet in 2006?",
      "options": ["1 Eris", "2 Ceres", "3 Pluto", "4 Makemake"],
      "correct": 3
    },
    {
      "question": "Which planet in our Solar System is known for having a prominent ring system?",
      "options": ["1 Jupiter", "2 Saturn", "3 Uranus", "4 Neptune"],
      "correct": 2
    },
    {
      "question": "What is the name of Earth's natural satellite?",
      "options": ["1 Phobos", "2 Deimos", "3 The Moon", "4 Europa"],
      "correct": 3
    },
    {
      "question": "Which planet is often called Earth's 'sister planet' due to its similar size and composition?",
      "options": ["1 Mars", "2 Venus", "3 Mercury", "4 Neptune"],
      "correct": 2
    },
    {
      "question": "Which planet has the most elliptical (oval-shape4 orbit?",
      "options": ["1 Pluto", "2 Mercury", "3 Neptune", "4 Mars"],
      "correct": 2
    },
    {
      "question": "Which planet in the Solar System has no atmosphere?",
      "options": ["1 Venus", "2 Mars", "3 Mercury", "4 Earth"],
      "correct": 3
    },
    {
      "question": "Which planet is the densest in the Solar System?",
      "options": ["1 Earth", "2 Saturn", "3 Neptune", "4 Mars"],
      "correct": 1
    },
    {
      "question": "Which planet takes approximately 84 Earth years to orbit the Sun?",
      "options": ["1 Neptune", "2 Uranus", "3 Saturn", "4 Jupiter"],
      "correct": 2
    },
    {
      "question": "Which planet's year is closest to Earth's year, at about 687 Earth days?",
      "options": ["1 Venus", "2 Mars", "3 Jupiter", "4 Saturn"],
      "correct": 2
    },
    {
      "question": "Which planet has a moon named Triton, which orbits in the opposite direction of the planet's rotation?",
      "options": ["1 Uranus", "2 Jupiter", "3 Saturn", "4 Neptune"],
      "correct": 4
    },
    {
      "question": "Which planet is known for having the highest winds in the Solar System, with speeds reaching over 1,200 miles per hour?",
      "options": ["1 Mars", "2 Neptune", "3 Saturn", "4 Jupiter"],
      "correct": 2
    },
    {
      "question": "Which planet has a day length (rotation perio4 of about 24 hours, similar to Earth?",
      "options": ["1 Venus", "2 Mars", "3 Jupiter", "4 Saturn"],
      "correct": 2
    },
    {
      "question": "What is the name of the spacecraft that was the first to fly by Pluto in 2015?",
      "options": ["1 Voyager 1", "2 Pioneer 10", "3 New Horizons", "4 Cassini"],
      "correct": 3
    },
    {
      "question": "Which planet has a surface pressure over 90 times greater than Earth's?",
      "options": ["1 Jupiter", "2 Venus", "3 Mars", "4 Neptune"],
      "correct": 2
    },
    {
      "question": "Which planet is known for having the largest canyon in the Solar System, Valles Marineris?",
      "options": ["1 Mars", "2 Earth", "3 Mercury", "4 Venus"],
      "correct": 1
    },
    {
      "question": "Which planet has a hexagonal storm pattern at its north pole?",
      "options": ["1 Uranus", "2 Neptune", "3 Saturn", "4 Jupiter"],
      "correct": 3
    },
    {
      "question": "Which planet is primarily composed of hydrogen and helium and has no solid surface?",
      "options": ["1 Earth", "2 Mars", "3 Venus", "4 Jupiter"],
      "correct": 4
    },
    {
      "question": "Which planet is the furthest from the Sun?",
      "options": ["1 Neptune", "2 Uranus", "3 Saturn", "4 Pluto"],
      "correct": 1
    },
    {
      "question": "Which planet has the shortest orbital period around the Sun, completing a year in just 88 Earth days?",
      "options": ["1 Mercury", "2 Venus", "3 Mars", "4 Jupiter"],
      "correct": 1
    },
    {
      "question": "Which planet has the largest volcano in the Solar System, Olympus Mons?",
      "options": ["1 Earth", "2 Mars", "3 Venus", "4 Mercury"],
      "correct": 2
    },
    {
      "question": "Which planet is named after the Roman god of agriculture?",
      "options": ["1 Mars", "2 Neptune", "3 Saturn", "4 Jupiter"],
      "correct": 3
    }
  ];


// import { quizData } from './quiz_data.js'; // Adjust the path if necessary

let currentQuestion = 0;
let score = 0;

const quizContainer = document.getElementById('quiz');
const submitBtn = document.getElementById('submit-btn');
const restartBtn = document.getElementById('restart-btn');
const resultContainer = document.getElementById('result');
// Fisher-Yates Shuffle Algorithm to shuffle an array

function shuffleArray(array) {
    let currentIndex = array.length, randomIndex;
    while (currentIndex !== 0) {
        randomIndex = Math.floor(Math.random() * currentIndex);
        currentIndex--;
        [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
    }
    return array;
}

// Function to select random questions
function selectRandomQuestions(quizData2, numQuestions) {
    const shuffledQuestions = shuffleArray(quizData2); // Copy and shuffle the array
    return shuffledQuestions.slice(0, numQuestions); // Get the first `numQuestions` items
}

const quizData = selectRandomQuestions(quizData1, 5);

// Function to load a quiz question
function loadQuiz() {
    const currentQuizData = quizData[currentQuestion];
    
    const questionHtml = `<div class="question">${currentQuizData.question}</div>`;
    const optionsHtml = currentQuizData.options.map((option, index) => {
        return `
            <li>
                <input type="radio" id="option${index}" name="answer" value="${index}">
                <label for="option${index}">${option}</label>
            </li>
        `;
    }).join('');

    quizContainer.innerHTML = `
        ${questionHtml}
        <ul class="options">${optionsHtml}</ul>
    `;
}

// Function to get selected answer
function getSelectedAnswer() {
    const options = document.querySelectorAll('input[name="answer"]');
    let selectedAnswer;
    options.forEach(option => {
        if (option.checked) {
            selectedAnswer = parseInt(option.value);
        }
    });
    return selectedAnswer;
}
// Function to display the correct answer
function displayCorrectAnswer(selectedAnswer) {
  const options = document.querySelectorAll('label');
  const correctAnswer = quizData[currentQuestion].correct - 1; // Assuming the correct answer index is 1-based

  options.forEach((option, index) => {
      if (index === correctAnswer) {
          option.style.color = 'green'; // Highlight the correct answer
      } else if (index === selectedAnswer && index !== correctAnswer) {
          option.style.color = 'red'; // Highlight the wrong answer
      }
  });
}

// Function to handle the quiz submission
function submitQuiz() {
    const selectedAnswer = getSelectedAnswer();

    if (selectedAnswer === undefined) {
        alert("Please select an answer!");
        return;
    }

    if (selectedAnswer +1 === quizData[currentQuestion].correct) {
        score++;
    }
    displayCorrectAnswer(selectedAnswer); // Display the correct answer after submission

    currentQuestion++;

    if (currentQuestion < quizData.length) {
        // loadQuiz();
        setTimeout(loadQuiz, 2000);
    } else {
        // showResults();
        setTimeout(showResults, 2000);
    }
}



// Function to display the quiz results
function showResults() {
    quizContainer.innerHTML = '';
    submitBtn.style.display = 'none';
    restartBtn.style.display = 'block';
    resultContainer.innerHTML = `
        You scored ${score} out of ${quizData.length}!
    `;

}

// Function to restart the quiz
function restartQuiz() {
    currentQuestion = 0;
    score = 0;
    submitBtn.style.display = 'block';
    restartBtn.style.display = 'none';
    resultContainer.innerHTML = '';
    loadQuiz();
}

// Event listeners
submitBtn.addEventListener('click', submitQuiz);
restartBtn.addEventListener('click', restartQuiz);

// Load the first quiz question
loadQuiz();
// fetchQuizData()
